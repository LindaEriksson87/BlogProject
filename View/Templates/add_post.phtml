<?php

require_once '../model/connection.php';

if(isset($_POST['btn-post'])){
    //getting rid of whitespace
    $title     = trim($_POST['title']);
    $content   = trim($_POST['content']);
   
    if (empty ($title)){
        
        $error[] = "Please enter a title."; 
    }
    
    if (empty($content)){
        
        $error[] = "Please enter some text."; 
        
    }
       
    else $post->newPost($title,$content);
}

?>

<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        
        <title> Add Post </title>
    </head>

    <body>
        <h1> Add Post </h1>
        
        <form method="post">
            
            <div>
                <label for="title">Title</label>
                <input type="text" name="title" value="<?php if ( isset($_POST['title']) ) echo $_POST['title']; ?>">
            </div>
            
            <div>
                <label for="content"> Content </label>
                <textarea name="content" rows="15" cols="50"><?php if ( isset($_POST['content']) ) echo $_POST['content']; ?></textarea>
            </div>
            
            <div>
                <label for="musicplayer"> Music Player </label>
                <select name="musicplayer"></select>
            </div>
            
            <div>
                <label for="tags"> Tags </label>
                <select name="tags"></select>
                <?php
                //foreach ( get_tags() as $tags ) {
                    ?>
                <option value ="<?php echo $tags['id']; ?>"><?php echo $tags['name']; ?></option>
                <?php
                
                ?>
                
            </div>
            
            <div>
                <input type="submit" value="Add Post" name="btn-post">
            </div>
           
        </form>
    </body>
</html>
